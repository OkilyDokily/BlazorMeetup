@page "/AvailableUsers/{id}"
@inject MeetupService MeetupService
@inject NavigationManager NavigationManager
@inject MeetupService MeetupService




<h3>Available Users</h3>
<ul>
    @foreach (Attendee iu in iul)
    {
        if (iu.AvatarSettings != null)
        {
            <li @key="iu.Id">
                <div class="avatar"
            style='background-image: url(@iu.AvatarSettings.AvatarUrl); background-size: @(iu.AvatarSettings.Size + "%"); background-position: @(iu.AvatarSettings.Left + "%") @(iu.AvatarSettings.Top + "%");'>
                </div>
                <div>@iu.UserName</div>
            </li>
        }

    }
</ul>

<button @onclick="GoBack">Go Back</button>

@code
{
    [Parameter]
    public string id { get; set; }
    public List<Attendee> iul = null;
    SuggestedDate sd { get; set; }
    protected override void OnInitialized()
    {
        sd = MeetupService.GetSuggestedDateById(id);
        iul = MeetupService.GetAvailableUsers(id);
    }

    public void GoBack()
    {
        string EventId = MeetupService.GetSuggestedDateById(id).EventId;
        NavigationManager.NavigateTo("/EventPage/" + sd.AttendeeId + "/" + EventId);
    }
}
